# quan 项目说明

## [快速开始](https://doc.javaquan.cn)


## 主要模块

1. app模块
   1. 提供系统基础应用适配
2. cloud模块
   1. 提供分布式组件服务
3. 权限模块
   1. 提供权限中心服务
4. 组件
   1. 提供系统基础工具类应用

## 分层架构：

|概念层|描述|
|:----|:----|
|<div style="width: 150px">用户界面/展现层</div>|负责向用户展现信息以及解释用户命令。|
|应用层|很薄的一层，用来协调应用的活动。它不包含业务逻辑。它不保留业务对象的状态，但它保有应用任务的进度状态。|
|领域层|本层包含关于领域的信息。这是业务软件的核心所在。在这里保留业务对象的状态，对业务对象和它们状态的持久化被委托给了基础设施层。|
|基础设施层|本层作为其他层的支撑库存在。它提供了层间的通信，实现对业务对象的持久化，包含对用户界面层的支撑库等作用。|

#### CQE规范

> 规范：ApplicationService的接口入参只能是一个Command、Query或Event对象，CQE对象需要能代表当前方法的语意。
> 唯一可以的例外是根据单一ID查询的情况，可以省略掉一个Query对象的创建。
> 针对于不同语意的指令，要避免CQE对象的复用

|CQE|描述|
|----|----|
|<div style="width: 100px">`Command`指令</div>|指调用方明确想让系统操作的指令，其预期是对一个系统有影响，也就是写操作。通常来讲指令需要有一个明确的返回值（如同步的操作结果，或异步的指令已经被接受）。|
|`Query`查询|指调用方明确想查询的东西，包括查询参数、过滤、分页等条件，其预期是对一个系统的数据完全不影响的，也就是只读操作。|
|`Event`事件|指一件已经发生过的既有事实，需要系统根据这个事实作出改变或者响应的，通常事件处理都会有一定的写操作。事件处理器不会有返回值。这里需要注意一下的是，Application层的Event概念和Domain层的DomainEvent是类似的概念，但不一定是同一回事，这里的Event更多是外部一种通知机制而已。|

##### 简单概括为：

|-|Command|Query|Event|
|----|----|----|----|
|<div style="width: 40px">语义</div>|"希望"能触发的操作|各种条件的查询|已经发生过的事情|
|读/写|写|只读|通常是写|
|返回值|DTO或Boolean|DTO或Collection|Void|